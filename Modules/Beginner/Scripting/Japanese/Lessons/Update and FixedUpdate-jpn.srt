1
00:00:00,249 --> 00:00:02,166
Update 関数は、Unity で最も頻繁に使用されるであろう

2
00:00:02,166 --> 00:00:03,677
関数です。

3
00:00:04,011 --> 00:00:06,011

この関数を使用する場合は、毎フレームごとに

4
00:00:06,011 --> 00:00:08,387
コールされます。定期的なタイミングで

5
00:00:08,387 --> 00:00:11,130
変更、または調整する必要がある処理を、ここで実行します。

6
00:00:11,740 --> 00:00:13,629
物理挙動のないオブジェクトの動作や

7
00:00:13,629 --> 00:00:15,629
簡単なタイマー、さらには入力の検知は

8
00:00:15,629 --> 00:00:17,257
Update 関数の中で行われる

9
00:00:17,257 --> 00:00:20,178
処理です。Update はコールされる間隔が完全に一定ではないことを

10
00:00:20,178 --> 00:00:22,864
覚えておくべきです。もし 1 フレームを処理するのが

11
00:00:22,864 --> 00:00:24,864
次のフレームを処理する時間より長い場合は

12
00:00:24,864 --> 00:00:26,864
Update 関数がコールされる間隔は

13
00:00:26,864 --> 00:00:29,221
違ってきます。 FixedUpdate 関数は似たような関数ですが

14
00:00:29,221 --> 00:00:31,111
重要な違いがいくつか

15
00:00:31,111 --> 00:00:33,483
あります。FixedUpdate 関数は

16
00:00:33,483 --> 00:00:35,483
定期的なサイクルで処理が行われるものであり、

17
00:00:35,483 --> 00:00:37,731
コールされる間隔が完全に一定です。

18
00:00:37,731 --> 00:00:40,094
FixedUpdate がコールされた直後、

19
00:00:40,094 --> 00:00:42,705
必要な物理計算がすべて行われます。

20
00:00:42,705 --> 00:00:45,136
このため、Rigidbody に影響するすべてのこと、

21
00:00:45,136 --> 00:00:47,858
すなわち 物理挙動のあるオブジェクトは、

22
00:00:47,858 --> 00:00:50,316
Update 関数ではなく FixedUpdate 関数で実行すべきです。

23
00:00:51,283 --> 00:00:53,602
FixedUpdate により物理挙動のスクリプトを書く場合、

24
00:00:53,602 --> 00:00:56,032
動作については、 Force を使うべきです。

25
00:00:56,946 --> 00:00:58,261
それでは FixdUpdate と Update コールの違いを

26
00:00:58,261 --> 00:01:00,709
見ていくことにします。

27
00:01:00,709 --> 00:01:03,129
このサンプルでは、すべての FixedUpdate および Update ごとに

28
00:01:03,129 --> 00:01:06,017
コンソール出力を行うために

29
00:01:06,017 --> 00:01:08,017
Time.deltatime を使用します。

30
00:01:08,268 --> 00:01:09,723
これでゲーム再生を行って

31
00:01:11,991 --> 00:01:13,152
ポーズをすれば

32
00:01:13,652 --> 00:01:15,374
FixedUpdate の間の間隔はつねに 0.02 であることが

33
00:01:15,374 --> 00:01:18,770
確認できます。

34
00:01:19,270 --> 00:01:21,990
一方で Update の間の間隔は変化します。

35
00:01:22,559 --> 00:01:24,364
これはコンソール ウィンドウを展開することで

36
00:01:24,364 --> 00:01:26,364
より顕著になります。

37
00:01:26,864 --> 00:01:29,531
ここでゲーム再生を行ってポーズをすれば

38
00:01:29,531 --> 00:01:31,364
すべての FixedUpdate は一行にまとめられる

39
00:01:31,364 --> 00:01:33,952
ことが確認できます。 111 個が 1 行にまとめられ

40
00:01:33,952 --> 00:01:37,164
すべて 0.02 の間隔で行われてます。

41
00:01:37,164 --> 00:01:39,164
Update の間隔は変化しています。
(翻訳:gamesonytablet)
