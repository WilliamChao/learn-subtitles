100:00:00,000 --> 00:00:02,050In this assignment, we will create the laser200:00:02,050 --> 00:00:04,050grids that also trigger the alarm if the300:00:04,050 --> 00:00:06,050player crosses them. First we can see that400:00:06,050 --> 00:00:08,050in the last assignment we created some500:00:08,050 --> 00:00:10,356scripts using the Add Component button,600:00:10,356 --> 00:00:12,590which are left in the root of our assets.700:00:12,590 --> 00:00:14,590So let us tidy these up by dropping them800:00:14,590 --> 00:00:16,590in to the scripts folder.900:00:17,933 --> 00:00:19,933Now let us start making the laser grids.1000:00:19,933 --> 00:00:21,933We're going to add a model to the scene,1100:00:21,933 --> 00:00:24,725add some components, write some scripts1200:00:24,725 --> 00:00:26,725and then turn this in to a prefab so that1300:00:26,725 --> 00:00:28,725we can make several laser gates.1400:00:28,725 --> 00:00:31,189In the Models folder, locate1500:00:31,189 --> 00:00:33,730fx_laserFence_lazers1600:00:33,730 --> 00:00:36,035Drag and drop this in to the scene1700:00:36,035 --> 00:00:37,479somewhere like this.1800:00:38,283 --> 00:00:40,283Press F to focus on it.1900:00:40,783 --> 00:00:42,783We will start be changing the rotation by2000:00:42,783 --> 00:00:44,78390 degrees in the Y axis.2100:00:44,783 --> 00:00:48,259This will rotate it to face the two gate2200:00:48,259 --> 00:00:50,561points on either side of the corridor.2300:00:51,311 --> 00:00:52,795Then we will change the scale to2400:00:52,795 --> 00:00:55,995(1, 1, 3.62).2500:00:57,697 --> 00:01:04,321We will set the position to (-8, 1.21, 5.62).2600:01:06,714 --> 00:01:08,714This should place your first laser gate2700:01:08,714 --> 00:01:10,714in to the exact position that we have on screen.2800:01:11,324 --> 00:01:13,324To make it easier to keep track of these2900:01:13,324 --> 00:01:15,324lasers we are going to add a number3000:01:15,324 --> 00:01:16,976as a post-fix to the name.3100:01:17,948 --> 00:01:22,626So rename this _001 at the end.3200:01:23,126 --> 00:01:25,126The laser grid needs to be able to detect3300:01:25,126 --> 00:01:27,126when the player passes through it, and so3400:01:27,126 --> 00:01:29,126it needs a trigger collider.3500:01:29,126 --> 00:01:32,026For affiance we are going to use a box collider.3600:01:32,026 --> 00:01:34,026The collider will automatically resize3700:01:34,026 --> 00:01:35,706to the laser grid when we add it.3800:01:35,706 --> 00:01:37,538We just need to make sure that the Is Trigger3900:01:37,538 --> 00:01:40,524box is checked. So click Add Component,4000:01:40,914 --> 00:01:42,914choose Physics - Box Collider4100:01:43,414 --> 00:01:45,414and then check Is Trigger.4200:01:46,425 --> 00:01:48,425You'll be able to see a faint green outline4300:01:48,425 --> 00:01:50,425that shows the bounding area4400:01:50,425 --> 00:01:52,425of the box collider. We are also going4500:01:52,425 --> 00:01:54,425to add an audio source component4600:01:54,425 --> 00:01:56,953so that the player can hear a faint laser hum.4700:01:56,953 --> 00:01:59,913when he is near them. Click Add Component4800:01:59,913 --> 00:02:02,275and choose Audio - Audio Source.4900:02:02,955 --> 00:02:05,408In the Audio folder drag and drop5000:02:05,408 --> 00:02:08,088the Laser Hum clip on to the clip5100:02:08,088 --> 00:02:09,752in the audio source component.5200:02:10,519 --> 00:02:12,894You should see that this is a 3D sound,5300:02:12,894 --> 00:02:14,894which means the proximity of the listener5400:02:14,894 --> 00:02:17,159will define how loud it is to the player.5500:02:17,159 --> 00:02:18,526We want to make sure that the player can5600:02:18,526 --> 00:02:20,872hear the hum from a reasonable distance5700:02:20,872 --> 00:02:23,190so underneath 3D Sound Settings5800:02:23,190 --> 00:02:25,927set the minimum distance to 1.8.5900:02:27,808 --> 00:02:30,224You will see that the spherical representation6000:02:30,224 --> 00:02:32,224of this expands in the scene view.6100:02:32,224 --> 00:02:34,224We also want to make sure that this clip6200:02:34,224 --> 00:02:37,108loops throughout the game. So check the Loop 6300:02:37,108 --> 00:02:39,108check box on the audio source component.6400:02:39,608 --> 00:02:41,219We also want the lasers to have a slight6500:02:41,219 --> 00:02:43,610red glow. To do this we're going to have6600:02:43,610 --> 00:02:45,610a point light attached to them.6700:02:46,110 --> 00:02:48,110Collapse your components to make room6800:02:48,110 --> 00:02:50,110and click Add Component6900:02:50,110 --> 00:02:52,110Rendering - Light.7000:02:52,610 --> 00:02:54,610Now we will change the colour to red to7100:02:54,610 --> 00:02:56,610match the laser grid. Click the colour7200:02:56,610 --> 00:02:59,687picker and copy these colour settings.7300:03:00,187 --> 00:03:03,563(255, 40, 0).7400:03:04,809 --> 00:03:06,423We need to tweak the settings slightly7500:03:06,423 --> 00:03:09,587for the light. Change the range to 5,7600:03:10,651 --> 00:03:12,651and the intensity to 0.6.7700:03:13,800 --> 00:03:15,800We also want to make sure that when we7800:03:15,800 --> 00:03:17,800rebake the light map these lights are7900:03:17,800 --> 00:03:19,800not included, because otherwise when8000:03:19,800 --> 00:03:21,800the laser grids are switched off the light8100:03:21,800 --> 00:03:23,800from them would remain on the surface8200:03:23,800 --> 00:03:25,800of the environment. To correct this8300:03:25,800 --> 00:03:28,432make sure that these are real time only lights.8400:03:28,432 --> 00:03:31,044Set light mapping to Real Time Only.8500:03:32,134 --> 00:03:34,875Now we need two scripts for the laser grid.8600:03:34,875 --> 00:03:36,405The first script will make the lasers8700:03:36,405 --> 00:03:38,405blink on and off, we will call it8800:03:38,405 --> 00:03:40,405Laser Blinking. Click the Add Component8900:03:40,405 --> 00:03:42,820button and choose new Script and name it 9000:03:42,820 --> 00:03:44,820LaserBlinking.9100:03:44,820 --> 00:03:46,820Double click the icon to launch for editing.9200:03:48,011 --> 00:03:50,011Begin by clearing the script as usual.9300:03:50,925 --> 00:03:52,925We only need a few class variables for9400:03:52,925 --> 00:03:54,925this script. Two public floats9500:03:54,925 --> 00:03:56,925for the amount of time the lasers are on9600:03:56,925 --> 00:03:58,925and off and a float for a timer9700:03:58,925 --> 00:04:01,303to know when to switch between on and off.9800:04:02,751 --> 00:04:04,751To make the laser blink we are going to9900:04:04,751 --> 00:04:06,531disable and enable the lazer's 10000:04:06,531 --> 00:04:09,428renderer component and it's light component.10100:04:09,776 --> 00:04:11,776Thus we need to check if the renderer is10200:04:11,776 --> 00:04:13,776enabled and the timer is greater than10300:04:13,776 --> 00:04:15,776or equal to the amount of time that the10400:04:15,776 --> 00:04:17,580laser is supposed to be on.10500:04:18,096 --> 00:04:20,365We will do this inside the update function.10600:04:20,962 --> 00:04:22,479So add one now.10700:04:23,601 --> 00:04:25,601First we will increment the timer.10800:04:26,184 --> 00:04:28,184Then we will check if the renderer is enabled10900:04:28,184 --> 00:04:30,184and that the timer is more than or equal11000:04:30,184 --> 00:04:31,908to on time.11100:04:32,808 --> 00:04:34,808If these conditions are satisfied then11200:04:34,808 --> 00:04:36,808we need to switch whether the beam is on11300:04:36,808 --> 00:04:39,639or not and reset the time. We will do this11400:04:39,639 --> 00:04:41,639in a short separate function.11500:04:42,429 --> 00:04:44,429First we will reset the time11600:04:45,067 --> 00:04:47,067and then we simply set the enabled status11700:04:47,067 --> 00:04:48,969of the renderer and the lights to 11800:04:48,969 --> 00:04:50,969the opposite of themselves.11900:04:53,251 --> 00:04:55,251With that short function finished we can12000:04:55,251 --> 00:04:57,251now put a call to it inside our update12100:04:57,251 --> 00:04:58,975function. Inside the brackets of the12200:04:58,975 --> 00:05:00,197of the If statement.12300:05:00,835 --> 00:05:02,835To finish the script we also need the12400:05:02,835 --> 00:05:04,835opposite check for if the renderer is12500:05:04,835 --> 00:05:06,835already disabled.12600:05:08,578 --> 00:05:10,578The script is now complete, so save12700:05:10,578 --> 00:05:12,578it and return to the editor.12800:05:13,520 --> 00:05:15,215Now we need another script to manage12900:05:15,215 --> 00:05:17,803player detection. We will call this script13000:05:17,803 --> 00:05:20,695Laser Player Detection. Click Add Component13100:05:20,695 --> 00:05:22,471and choose New Script, naming it13200:05:22,471 --> 00:05:24,070LaserPlayerDetection.13300:05:24,709 --> 00:05:27,220Double click the icon to open it for editing.13400:05:28,162 --> 00:05:30,162Clear the script as usual.13500:05:30,883 --> 00:05:32,175This script does not need to be 13600:05:32,175 --> 00:05:34,175referenced elsewhere, nor does it have13700:05:34,175 --> 00:05:36,497anything that needs tweaking publicly.13800:05:36,497 --> 00:05:38,110As such we do not need any public13900:05:38,110 --> 00:05:40,501class variables. It does however need a14000:05:40,501 --> 00:05:43,287couple of private variables to store references.14100:05:43,287 --> 00:05:45,287The first is to the player game object.14200:05:45,287 --> 00:05:47,287The other is a reference to the14300:05:47,287 --> 00:05:49,287LastPlayerSighting script.14400:05:49,287 --> 00:05:51,287We will use the awake function to setup these14500:05:51,287 --> 00:05:53,801references using FindGameObjectWithTag14600:05:53,801 --> 00:05:55,801as we have done before.14700:06:03,953 --> 00:06:05,953The only other function we need in this script14800:06:05,953 --> 00:06:07,953is OnTriggerStay.14900:06:09,903 --> 00:06:11,694We need to know if the renderer is enabled15000:06:11,694 --> 00:06:13,694first, since the lasers should only15100:06:13,694 --> 00:06:15,694be detecting when they are on.15200:06:17,271 --> 00:06:19,271Given that the lasers are on we need15300:06:19,271 --> 00:06:21,271to check if the colliding game object15400:06:21,271 --> 00:06:23,271is indeed the player.15500:06:24,172 --> 00:06:26,172If it is the player then we need to update15600:06:26,172 --> 00:06:28,172the position of the last sighting of the15700:06:28,172 --> 00:06:30,172player to the colliding game object's15800:06:30,172 --> 00:06:32,172current position.15900:06:33,059 --> 00:06:35,059And that is this script finished, and the end16000:06:35,059 --> 00:06:37,059of our work on the laser grid.16100:06:37,059 --> 00:06:40,239so save your script and return to the editor16200:06:43,101 --> 00:06:46,087then drag the fx_laserFence on to the 16300:06:46,087 --> 00:06:48,737Prefabs folder to save it as a prefab.16400:06:50,259 --> 00:06:52,259We can now duplicate the lasers and place16500:06:52,259 --> 00:06:54,259them at other locations around the level.16600:06:54,759 --> 00:06:56,759Place the first duplicate just past16700:06:56,759 --> 00:06:58,759the door in the same corridor.16800:06:58,759 --> 00:07:00,759We also want to change it's name to show16900:07:00,759 --> 00:07:02,509that it's a different laser grid. 17000:07:02,509 --> 00:07:04,759Change the number to 002.17100:07:05,383 --> 00:07:07,842So first we will duplicate17200:07:08,950 --> 00:07:10,950then we will change the name to 217300:07:12,762 --> 00:07:14,762and we use the transform tool to17400:07:14,762 --> 00:07:16,762move this up the corridor.17500:07:17,787 --> 00:07:20,440To get the exact position set the location to17600:07:20,440 --> 00:07:24,818(-8, 1.21, 9.23).17700:07:26,975 --> 00:07:29,485Now let us duplicate again. Rename the new17800:07:29,485 --> 00:07:32,843duplicate 003. Then move this grid to the17900:07:32,843 --> 00:07:36,155doorway of the security room facing the battle bus.18000:07:36,155 --> 00:07:38,155We can do this by positioning it at18100:07:38,655 --> 00:07:44,810(-17.93, 1.21, 24.08).18200:07:46,788 --> 00:07:48,788Select it in the hierarchy and press F18300:07:48,788 --> 00:07:50,788with your cursor over the scene view to 18400:07:50,788 --> 00:07:53,149focus on it. It should look like this.18500:07:54,036 --> 00:07:58,260Now let us duplicate again and rename 004.18600:07:58,953 --> 00:08:07,829Position this at (-23.92, 1.21, 26.1).18700:08:08,868 --> 00:08:11,156Then remove the rotation in the Y axis18800:08:11,156 --> 00:08:14,484so that it reads 0. Focus again in the scene view.18900:08:15,827 --> 00:08:17,827Now reselect laser grid number 319000:08:17,827 --> 00:08:19,827as it has the correct rotation19100:08:19,827 --> 00:08:21,827for the other two laser grids.19200:08:23,114 --> 00:08:27,117Duplicate it and rename it 005.19300:08:27,117 --> 00:08:28,392Now reposition this at19400:08:28,392 --> 00:08:35,438(-8.95, 1.21, 25.99).19500:08:38,107 --> 00:08:40,908Finally duplicate to make number 6.19600:08:41,864 --> 00:08:43,092Rename it19700:08:45,374 --> 00:08:52,123and set the position to (-8.95, 1.21, 29.96).19800:08:55,690 --> 00:08:58,367Then refocus on these in the scene view.19900:08:58,839 --> 00:09:00,353You will notice that they don't reach the20000:09:00,353 --> 00:09:04,625edges of the corridor, so select 5 and 620100:09:04,625 --> 00:09:08,505and set the scale to (1,1,5.6).20200:09:09,571 --> 00:09:11,571The last thing we need to do with these two20300:09:11,571 --> 00:09:13,905larger laser grids is to set the on and off20400:09:13,905 --> 00:09:15,905times of the LaserBlinking scripts.20500:09:16,405 --> 00:09:18,655With them both still selected set their20600:09:18,655 --> 00:09:20,655on times to 1.520700:09:21,155 --> 00:09:23,541now select laser fence number 520800:09:23,541 --> 00:09:26,192and set it's off time to 1.5.20900:09:28,902 --> 00:09:30,818Now select number 621000:09:30,818 --> 00:09:33,878and set the off time to 1.55.21100:09:36,574 --> 00:09:39,306This means that they will flash asyncronsily.21200:09:39,306 --> 00:09:41,306With that done what we need is a way to21300:09:41,306 --> 00:09:43,306turn off some of the lasers.21400:09:43,306 --> 00:09:45,306To do this we have switches.21500:09:45,306 --> 00:09:48,368We will start by dragging the model in to the scene.21600:09:48,368 --> 00:09:50,902In the Models folder you will find a21700:09:50,902 --> 00:09:53,570prop called prop_switchUnit.21800:09:54,388 --> 00:09:55,931It should look like this.21900:09:55,931 --> 00:09:57,500Move your scene view so that you can see22000:09:57,500 --> 00:10:00,101the second room at the bottom of the map.22100:10:01,002 --> 00:10:02,356You will see that there's a poster on the22200:10:02,356 --> 00:10:04,356wall with the word 'Terminal' written on it.22300:10:06,279 --> 00:10:08,279This is where we want to place the first switch.22400:10:09,000 --> 00:10:12,724Drag and drop the switch unit somewhere like this.22500:10:12,724 --> 00:10:14,865For the exact position, we will place it at22600:10:14,865 --> 00:10:18,995(-11.5, 0, 11.3).22700:10:19,495 --> 00:10:21,872Then we will rotate it by 18022800:10:21,872 --> 00:10:24,579in the Y axis. When all of the are placed22900:10:24,579 --> 00:10:26,579in to the scene we will want to rebake23000:10:26,579 --> 00:10:28,579the light map for higher quality.23100:10:29,231 --> 00:10:31,231So that these are included in the bake23200:10:31,231 --> 00:10:33,231make sure to switch the game object to Static23300:10:33,231 --> 00:10:36,096by checking the box at the top of the inspector.23400:10:36,096 --> 00:10:38,979Choose Yes to changing the child objects of this.23500:10:40,059 --> 00:10:42,059We will need a couple of colliders.23600:10:42,059 --> 00:10:44,059First we will use a box collider so that23700:10:44,059 --> 00:10:46,457the player cannot run through the switch.23800:10:46,888 --> 00:10:50,371Click Add Component - Physics - Box Collider.23900:10:52,280 --> 00:10:54,280The box collider will naturally try and fit the24000:10:54,280 --> 00:10:56,557entire model, which in this case includes24100:10:56,557 --> 00:10:58,695the wiring on the floor. We do not need 24200:10:58,695 --> 00:11:00,151it to do that, so we will adjust24300:11:00,151 --> 00:11:02,483the collider slightly. Set the centre24400:11:02,483 --> 00:11:11,563of the collider to (0.3, 0.8, -0.15).24500:11:12,201 --> 00:11:18,122Set the size of the collider to (1.3, 1.6, 0.81).24600:11:20,279 --> 00:11:23,351Now we need a sphere trigger collider24700:11:23,351 --> 00:11:24,988This will be how we can tell the player24800:11:24,988 --> 00:11:26,988is close enough to use the switch.24900:11:26,988 --> 00:11:29,601Unity asks us if we mean to have two25000:11:29,601 --> 00:11:32,473colliders on one game object, and we do.25100:11:32,473 --> 00:11:35,039So we will choose to add rather than replace.25200:11:35,039 --> 00:11:38,424Go to Add Component - Physics - Sphere Collider25300:11:38,424 --> 00:11:40,954and choose Add. We will set the centre25400:11:40,954 --> 00:11:44,934to (0, 1, 1). We will set the radius to 1.525500:11:47,202 --> 00:11:49,768and we will check the Is Trigger check box.25600:11:50,434 --> 00:11:52,004We want the switch to make a noise when25700:11:52,004 --> 00:11:54,004the laser has been deactivated25800:11:54,004 --> 00:11:56,004as such we will add an audio source25900:11:56,004 --> 00:11:58,004component to the switch.26000:11:58,753 --> 00:12:02,036Click Add Component - Audio - Audio Source.26100:12:03,006 --> 00:12:05,006We will uncheck Play On Awake so that the26200:12:05,006 --> 00:12:07,006sound does not happen when the game begins26300:12:07,686 --> 00:12:09,686and from the Audio folder in the project panel26400:12:09,686 --> 00:12:11,159we will drag and drop the clip26500:12:11,159 --> 00:12:13,159switch_deactivation26600:12:13,159 --> 00:12:15,047on to the audio clip property.26700:12:15,047 --> 00:12:17,783Now we need a script to deactivate the laser.26800:12:17,783 --> 00:12:21,201We will name this script LaserSwitchDeactivation.26900:12:24,671 --> 00:12:26,671Double click the icon to launch for editing.27000:12:27,309 --> 00:12:29,309Prepare the script for writing.27100:12:32,350 --> 00:12:33,863The first thing we are going to need in 27200:12:33,863 --> 00:12:35,696this script is a reference to the 27300:12:35,696 --> 00:12:37,696laser game object we are going to turn off.27400:12:37,696 --> 00:12:39,696We need this to be public so we can drag on27500:12:39,696 --> 00:12:41,696the appropriate laser once we are finished.27600:12:41,696 --> 00:12:43,696We also need a public material27700:12:43,696 --> 00:12:45,696so that we can change what the screen looks like27800:12:45,696 --> 00:12:47,696when the laser has been unlocked.27900:12:48,196 --> 00:12:50,196The only other class variable we will need28000:12:50,196 --> 00:12:51,920for this script is a reference for the 28100:12:51,920 --> 00:12:54,333player game object, which can be private.28200:12:54,833 --> 00:12:56,016Next we need to setup the reference28300:12:56,016 --> 00:12:58,016for the player as we have done in the awake28400:12:58,016 --> 00:12:59,373function before.28500:12:59,873 --> 00:13:01,679Next we need to check if the player is 28600:13:01,679 --> 00:13:03,429within the trigger zone, so we will use28700:13:03,429 --> 00:13:06,930the OnTriggerStay function as we did with the cameras.28800:13:08,770 --> 00:13:10,770Given that the player is within the trigger zone28900:13:10,770 --> 00:13:12,770the next thing to check is whether the29000:13:12,770 --> 00:13:14,770switch button is being pressed.29100:13:16,334 --> 00:13:18,334At this point we want to deactivate29200:13:18,334 --> 00:13:20,334the laser. We will make a function29300:13:20,334 --> 00:13:22,705in order to do this. We will call it29400:13:22,705 --> 00:13:24,705LaserDeactivation.29500:13:26,531 --> 00:13:28,281The first thing to do in this function is29600:13:28,281 --> 00:13:30,281to disable the laser game object.29700:13:30,281 --> 00:13:32,449We do this using the SetActivate function.29800:13:33,886 --> 00:13:35,886Next we need a reference to the renderer29900:13:35,886 --> 00:13:37,886component of the switch's screen.30000:13:37,886 --> 00:13:40,570The screen is a child game object of the switch.30100:13:40,570 --> 00:13:42,008So we can reference that using30200:13:42,008 --> 00:13:44,008transform.FindChild.30300:13:44,508 --> 00:13:46,855Having found the child we can access30400:13:46,855 --> 00:13:48,855the renderer component.30500:13:50,211 --> 00:13:52,211With that reference we can set the material30600:13:52,211 --> 00:13:54,211to the unlocked material, which we will30700:13:54,211 --> 00:13:56,211assign in the inspector later.30800:13:57,788 --> 00:13:59,788We can also play the deactivating sound30900:13:59,788 --> 00:14:01,788from the audio source.31000:14:02,288 --> 00:14:04,288Now we can add a call to this function31100:14:04,288 --> 00:14:06,288in our OnTriggerStay function.31200:14:08,363 --> 00:14:10,363With the script complete we can save and31300:14:10,363 --> 00:14:12,363return to the editor.31400:14:14,092 --> 00:14:16,356Now we need to assign our public references.31500:14:16,356 --> 00:14:18,356Let us start by dropping the unlocked material31600:14:18,356 --> 00:14:21,777on to the unlockedMat public variable.31700:14:22,277 --> 00:14:24,889In the material folder in the project panel31800:14:24,889 --> 00:14:25,970you'll find something called prop_switchUnit31900:14:25,970 --> 00:14:31,251prop_switchUnit_screenUnlocked.32000:14:33,049 --> 00:14:34,883Drag and drop this on to the unlockedMat32100:14:34,883 --> 00:14:37,560variable. We are now ready to make a32200:14:37,560 --> 00:14:39,560prefab of our laser switch.32300:14:39,560 --> 00:14:41,155We have not yet applied the laser, which32400:14:41,155 --> 00:14:43,155we will be deactivating with our switch32500:14:43,155 --> 00:14:44,410but since that will be different with32600:14:44,410 --> 00:14:46,410each instance we do not want to store it32700:14:46,410 --> 00:14:48,410in the prefab, so we will make it now.32800:14:49,172 --> 00:14:51,172Drag and drop prop_switchUnit on to the32900:14:51,172 --> 00:14:53,172prefabs folder in the project panel.33000:14:55,523 --> 00:14:57,967We are going to have 4 switches around the scene.33100:14:57,967 --> 00:14:59,967So let us name them using the same numbering33200:14:59,967 --> 00:15:01,967convention we used for the laser grids.33300:15:02,287 --> 00:15:05,529Add 001 to the name of the first switch.33400:15:08,943 --> 00:15:10,943Now we can duplicate the switch and place it33500:15:10,943 --> 00:15:12,943around the level. The first duplicate33600:15:12,943 --> 00:15:14,943will be on the far wall of the lower right33700:15:14,943 --> 00:15:16,943room. So duplicate33800:15:17,982 --> 00:15:19,982rename 002,33900:15:20,413 --> 00:15:25,591place this at (-1.6, 0, 11.3).34000:15:27,624 --> 00:15:29,012It should look like this. 34100:15:29,012 --> 00:15:31,012Now duplicate once more.34200:15:32,175 --> 00:15:34,175Rename it 003,34300:15:34,175 --> 00:15:40,539and place this one at (-17.7, 0, 33.3).34400:15:43,484 --> 00:15:45,400This should be on the far wall of the 34500:15:45,400 --> 00:15:48,163security room. It should look like this.34600:15:50,196 --> 00:15:52,585The last one will go in the small alcove34700:15:52,585 --> 00:15:54,585on the upper left of the level.34800:15:55,720 --> 00:15:58,995So duplicate, rename 004,34900:16:00,186 --> 00:16:05,064and place it at position (-30, 0, 33.3).35000:16:05,826 --> 00:16:07,826It should look like this.35100:16:10,343 --> 00:16:12,343Now we are ready to assign lasers to 35200:16:12,343 --> 00:16:14,343the switches so that they switch off the35300:16:14,343 --> 00:16:17,017correct laser grids. The first switch35400:16:17,017 --> 00:16:19,017will deactivate laser number 1.35500:16:19,710 --> 00:16:21,710So select the first switch35600:16:22,210 --> 00:16:24,825and in the Laser Switch Deactivation script35700:16:24,825 --> 00:16:27,451drag and drop laser fence 01.35800:16:29,236 --> 00:16:32,052Next we can apply laser 2 to switch 2,35900:16:32,052 --> 00:16:34,457laser 3 to switch 3 and laser 4 36000:16:34,457 --> 00:16:36,457to switch 4 as shown.36100:16:44,816 --> 00:16:46,816Now all of our laser grids are setup36200:16:46,816 --> 00:16:48,816with appropriate switches and will function36300:16:48,816 --> 00:16:50,816correctly. You can check the sounds36400:16:50,816 --> 00:16:52,816on these by enabling the Audio36500:16:52,816 --> 00:16:55,685Preview button at the top of the scene view.36600:17:02,967 --> 00:17:04,967Now we are nearly ready to do a high quality bake36700:17:04,967 --> 00:17:07,590of our light map. But before we do that36800:17:07,590 --> 00:17:09,590we are going to tidy up our scripts folder.36900:17:09,590 --> 00:17:12,024Select the Assets folder in the project panel37000:17:12,024 --> 00:17:14,024and drag in the three scripts we have made37100:17:14,024 --> 00:17:16,024in this assignment.37200:17:17,201 --> 00:17:19,201Now you can see our Scripts folder is37300:17:19,201 --> 00:17:21,572beginning to get bloated and has a variety37400:17:21,572 --> 00:17:23,572of different scripts involved. In the Scripts37500:17:23,572 --> 00:17:25,572folder we will make folders to store these37600:17:25,572 --> 00:17:27,169to keep them neatly.37700:17:27,169 --> 00:17:30,602First of all create a folder called Alarm Systems.37800:17:31,406 --> 00:17:34,165In to this folder we will place AlarmLight,37900:17:36,350 --> 00:17:39,571CCTVPlayerDetection, LaserBlinking,38000:17:40,223 --> 00:17:44,276LaserPlayerDetection and LaserSwitchDeactivation.38100:17:44,276 --> 00:17:48,037Leaving the last three scripts in the folder.38200:17:48,502 --> 00:17:50,502Now we will make another folder38300:17:50,502 --> 00:17:52,502called Game Controller.38400:17:53,321 --> 00:17:54,575In to this we will place the 38500:17:54,575 --> 00:17:56,881LastPlayerSighting script.38600:17:57,864 --> 00:18:00,353Now we will make a folder for our screen fader.38700:18:02,635 --> 00:18:04,635and finally we will make a folder for our38800:18:04,635 --> 00:18:07,737unapplied scripts. So remember that tags is38900:18:07,737 --> 00:18:09,737simply a library of different constants39000:18:09,737 --> 00:18:11,737that we can reference in other scripts.39100:18:11,737 --> 00:18:13,737It is not applied to a game object.39200:18:13,737 --> 00:18:16,241This is why we place is in a folder called Unapplied.39300:18:19,193 --> 00:18:21,164Now with our scripts tidied up we will39400:18:21,164 --> 00:18:23,709do a high quality bake of our light map.39500:18:23,709 --> 00:18:25,513Select the Light Mapping tab, or if you have39600:18:25,513 --> 00:18:28,409closed it go to Window - Light Mapping.39700:18:28,409 --> 00:18:32,667Go to the Bake tab and set Quality from low to high.39800:18:32,667 --> 00:18:35,475Also set the Padding to a value of 3.39900:18:36,168 --> 00:18:38,015Now we are ready to do our bake.40000:18:38,015 --> 00:18:40,643So simply click Bake Scene at the bottom.40100:18:41,102 --> 00:18:42,557Because this is high quality this will40200:18:42,557 --> 00:18:44,557take a longer time than our low bake40300:18:44,557 --> 00:18:47,169took earlier. This high quality bake40400:18:47,169 --> 00:18:49,749will give you a much better looking environment40500:18:49,749 --> 00:18:51,749and a much more accurate representation40600:18:51,749 --> 00:18:54,315of the lighting involved. So when it is done40700:18:54,315 --> 00:18:56,315have a look around the environment and check40800:18:56,315 --> 00:18:58,315out the changes that we have made.40900:18:58,315 --> 00:18:59,773So take this opportunity to have a break41000:18:59,773 --> 00:19:02,077from the computer. This is also the end41100:19:02,077 --> 00:19:04,588of the first chapter. In the next chapter41200:19:04,588 --> 00:19:07,058we will focus on creating the player.41300:19:07,058 --> 00:19:09,058Once the bake is complete, remember to41400:19:09,058 --> 00:19:11,058save your scene and save your project41500:19:11,058 --> 00:19:12,345from the file menu.